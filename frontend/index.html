<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ê–Ω–∞–ª–∏–∑ –æ–±–ª–æ–∂–µ–∫ –∫–Ω–∏–≥ –∏ –≤–∏–¥–µ–æ —Ñ–∏–≥—É—Ä–Ω–æ–≥–æ –∫–∞—Ç–∞–Ω–∏—è</title>
    <link rel="stylesheet" href="/style.css">
    <script src="/script.js"></script>
</head>
<body>
    <div class="container"> 
 
        <div class="tabs">
            <button class="tab-button active" onclick="showTab('books', this)">üìö –†–∞–±–æ—Ç–∞ —Å –æ–±–ª–æ–∂–∫–∞–º–∏</button>
            <button class="tab-button" onclick="showTab('video', this)">‚õ∏Ô∏è –†–∞–±–æ—Ç–∞ —Å –≤–∏–¥–µ–æ</button>
        </div>
 
        <div id="books" class="tab-content active"> 
            <div class="section">
                <div class="section">
                <h3>–†–∞–±–æ—Ç–∞ —Å –æ–±–ª–æ–∂–∫–æ–π</h3>
                <div class="upload-grid">
                    <div class="upload-item"> 
                        <input type="file" id="fileInput" accept="image/*">
                    </div>
                    <div class="upload-item"> 
                        <input type="text" id="urlInput" placeholder="https://...">
                    </div>
                </div>
                <button class="btn-primary" onclick="analyze()">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>


                <div class="filters">
                    <h4>–§–∏–ª—å—Ç—Ä—ã:</h4>
                    <button class="btn-secondary" onclick="applyFilter('grayscale')">–ß–µ—Ä–Ω–æ-–±–µ–ª—ã–π</button>
                    <button class="btn-secondary" onclick="applyFilter('warm')">–¢–µ–ø–ª—ã–π —Ç–æ–Ω</button>
                    <button class="btn-secondary" onclick="applyFilter('cold')">–•–æ–ª–æ–¥–Ω—ã–π —Ç–æ–Ω</button>
                    <button class="btn-secondary" onclick="toggleColorTools()">üñåÔ∏è –ó–∞–º–µ–Ω–∞ —Ü–≤–µ—Ç–∞</button>
                </div>
 
                <div id="colorTools" style="display: none; margin-top: 20px; padding:15px; border-radius:15px; border:1px solid #eee;">
                    <h4>–ó–∞–º–µ–Ω–∞ —Ü–≤–µ—Ç–∞</h4>
                    <div style="display:flex; gap:15px; margin-bottom:5px;">
                        <div>
                            <label>–¶–≤–µ—Ç –¥–ª—è –∑–∞–º–µ–Ω—ã:</label>
                            <input type="color" id="targetColorPicker" value="#ff0000"> 
                        </div>
                        <div>
                            <label>–ù–æ–≤—ã–π —Ü–≤–µ—Ç:</label>
                            <input type="color" id="newColorPicker" value="#00ff00"> 
                        </div>
                    </div>
                    <div>
                        <label>–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: <span id="toleranceValue">30</span></label>
                        <input type="range" id="toleranceSlider" min="1" max="100" value="30">
                    </div>
                    <button class="btn-primary" onclick="applyColorReplacement()" style="margin-top:10px;">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                </div>

                <div id="analysisResults" class="results" style="display: none; margin-top:20px; padding:15px; border-radius:8px;">
                    <h4>–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</h4>
                    <img id="preview" class="processed-image" style="max-width:100%; border-radius:6px; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
                    <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞:</h4>
                    <pre id="result" style="background:#2d3748; color:#e2e8f0; padding:15px; border-radius:6px; overflow-x:auto; font-size:14px;"></pre>
                </div>
            </div>

            
            <div class="section" style="margin-top:30px;">
                <h3>–ü–æ—Ö–æ–∂–∏–µ –æ–±–ª–æ–∂–∫–∏</h3>
                <div class="upload-grid">
                    <div class="upload-item"> 
                        <input type="file" id="similarityFile" accept="image/*">
                    </div>
                    <div class="upload-item"> 
                        <input type="text" id="similarityUrl" placeholder="https://...">
                    </div>
                </div>
                <button class="btn-primary" onclick="findSimilar()">–ù–∞–π—Ç–∏ –ø–æ—Ö–æ–∂–∏–µ</button>
                <div id="similarityResults" class="similarity-results"></div>
            </div> 
            <div class="section" style="margin-top:30px;">
                <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</h3>
                <button class="btn-primary" onclick="showGenreStats()">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
                <div id="statsResults"></div>
            </div>
        </div>

 
        <div id="video" class="tab-content">
        <div class="section">
            <h3>–ê–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ —Ñ–∏–≥—É—Ä–Ω–æ–≥–æ –∫–∞—Ç–∞–Ω–∏—è</h3>

            <div class="upload-section video-upload">
            <label>–í–∏–¥–µ–æ—Ñ–∞–π–ª:</label> 
            <input type="file" id="videoFile" accept="video/*" style="display:none;">
            <button type="button" onclick="document.getElementById('videoFile').click()" class="btn-secondary">üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</button>
            </div>

            <div class="jump-intervals-section">
            <label>–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø—Ä—ã–∂–∫–æ–≤ (—Å–µ–∫—É–Ω–¥—ã, —Ñ–æ—Ä–º–∞—Ç: –Ω–∞—á–∞–ª–æ-–∫–æ–Ω–µ—Ü)</label>
            <div id="jumpIntervalsContainer">
                <div class="jump-interval-input">
                <input type="text" class="jump-interval" placeholder="75-78" value="75-78">
                <button type="button" onclick="removeJumpInterval(this)">‚úñÔ∏è</button>
                </div>
            </div>
            <button type="button" onclick="addJumpInterval()">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
            <label><input type="checkbox" id="useManualJumps" checked> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—É—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã</label>
            </div>

            <button type="button" onclick="analyzeVideo()" class="btn-primary" style="margin-top:20px;">–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>

            <div id="jumpStats" style="margin-top:30px;"></div>
        
        <div id="videoLoading" class="loading" style="display: none;">
            <div class="spinner"></div>
            <p> –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ... </p>
        </div>
            <div id="jumpFramesSection" style="margin-top:30px;">
            <h4 data-icon="üì∏">–ü—Ä–∏–º–µ—Ä—ã –∫–∞–¥—Ä–æ–≤ –ø—Ä—ã–∂–∫–∞ (—Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º —Ñ–∏–≥—É—Ä–∏—Å—Ç–∞)</h4>
            <div id="jumpFramesContainer" style="display:flex; flex-wrap:wrap; gap:15px; margin-top:15px;"></div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
